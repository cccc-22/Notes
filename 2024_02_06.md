# ESDE
## Quiz 4
### Module 5 - DynamoDB
- **DynamoDB is a NoSQL database**
- DynamoDB contains:
   - **Tables**
   - **Items** (like ***rows*** in MySQL)
   - **Attributes** (like ***columns*** in MySQL)
   - **Primary Key**
      - Composed of:
         - Partition key (**required**)
         - Sort key (**optional**)
      - Partition key **must be unique** if ***no sort key is used***
         - a.k.a. ***Simple* Primary Key**
      - With sort key, partition key can be duplicate, but ***sort key must be unique***
         - a.k.a. ***Composite* Primary Key**
- DynamoDB is **not constrained by a pre-defined schema**
   - **Items** can have **any number of attributes**, different value types
   - Item size constraint of **400KB**
- DynamoDB: Scan vs Query
   - **Scan**
      - **Read all items** from the table or index
      - **Takes very long**
      - **Expensive** operation
   - **Query**
      - **Only accesses records** that has the ***appropriate key condition*** expression
      - **More efficient** than a Scan
### Module 9 - Serverless, Lambda
- Serverless architecture
   - For **basic serverless architecture**, usually only two services are needed:
      - **Lambda**
      - **API Gateway**
   - Lambda - best practices
      - Include **logging statements** e.g. `console.log()`
         - Logs written to **CloudWatch**
      - Include **results information**
      - Use **environment variables**
      - *Avoid* **recursive code**
   - CloudWatch
      - **Monitoring service** for AWS services
      - Very useful for **debugging Lambda functions**
      - Example: **Logs exceptions** that prevents function from running correctly
      - How to use (probably not quiz-relevant):
         - On Lambda function page, press *"Test"*
         - No output from function
         - On the top bar, click the *Monitor* tab
         - Top-centre: Click *"View CloudWatch logs"*
         - Click into the latest *Log stream* at the top to view logs
### Module 10 - Amazon API Gateway
- REST API vs WebSockets API
   - **REST** - **Request-response** model
      - **Client sends a HTTP request** (GET, POST...) to a back-end server
      - **Server responds synchronously** back to client
      - **Must have a request from the client** for the server to respond back
      - Used for applications that **utilise a request-response model**, e.g.
         - Online transactions - User clicks a button to add to cart, view product, etc.
         - Blogs, social media - User clicks the Post button
   - **WebSockets** - **Bidirectional** (two-way) communication
      - Client app and back-end servers can **both send messages** to each other **at any time**
      - **Back-end servers do not need to wait for a request** from client to send data
      - Suitable for **real-time communication** apps, e.g.
         - Chat apps
         - Real-time dashboards, alerts and notifications
- Controlling access to REST APIs
   - Ways to specify permissions on an API:
      - Attach a **resource policy** document
      - Resource policy
         - **JSON document**
         - Describes **permissions applied on the resource**
- When creating and deploying an API, you **must associate it with a stage**
- HTTP 4xx and 5xx errors
   - **4xx errors** - occurred due to ***client/user fault***
   - **5xx errors** - ***server caused the error***, not the user
   - Useful when analysing CloudWatch logs
- RDS vs DynamoDB
   - **RDS** -> ***relational***
   - **DynamoDB** -> ***non-relational***
   - RDS requires a **schema**
      - Useful for when **high integrity is required**
      - Server can check that **incoming data complies with format required**
      - E.g. column UserID is numeric and not text
   - NoSQL DBs like DynamoDB **don't require a schema**
      - **Flexible** in storing all kinds of data
      - Handle data at **fast speeds**
   - When to use RDS?
      - Customer is **already using RDS**
      - Migrate to cloud easily **without rewriting code**
      - **Stable schema**
      - **Speed is not important**
   - When to use NoSQL (DynamoDB)?
      - Customer anticipates **handling a lot of diverse data**
      - **Cannot predict schema** or structure
      - Requires database **handle millions of requests per second**
- Data in **DynamoDB** is ***encrypted by default***
- Data in **RDS** is ***not encrypted by default***
### Other reminders
- Go study Lab 3 codes

